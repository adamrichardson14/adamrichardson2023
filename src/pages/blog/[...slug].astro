---
import Root from "../../layouts/root.astro";
import { getAllPosts } from "../../lib/posts";
let posts = await getAllPosts();
let post = posts.filter((post) => post.slug === Astro.params.slug)[0];

export async function getStaticPaths() {
  let posts = await getAllPosts();
  let allSlugs = posts.map((post) => post.slug);
  let paths = allSlugs.map((slug) => ({ params: { slug } }));
  return paths;
}
---

<Root>
  <div class="max-w-3xl px-4 md:px-8 mx-auto mt-10">
    <h1 class="font-bold text-4xl">{post.data.title}</h1>
  </div>
</Root>
